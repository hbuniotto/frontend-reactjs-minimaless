{"ast":null,"code":"var _jsxFileName = \"/Users/humbertobuniotto/Desktop/Ironhack/Module3/frontend-reactjs-minimaless/src/views/NewListing/components/NewListingDetails/components/Pictures.js\";\nimport React, { Component } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { Grid, Typography, Button, CircularProgress } from '@material-ui/core';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport StarIcon from '@material-ui/icons/Star';\nimport Axios from 'axios';\nimport '../../../../../assets/scss/slider.scss';\n\nconst useStyles = theme => ({\n  root: {},\n  text: {\n    textAlign: 'center',\n    padding: 20\n  },\n  input: {\n    display: 'none'\n  },\n  uploadbtn: {\n    textAlign: 'center'\n  },\n  image: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    flexWrap: 'wrap'\n  },\n  imageBody: {\n    margin: 7\n  },\n  productImg: {\n    height: 120,\n    width: 150\n  },\n  iconarea: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '60%',\n    marginLeft: '20%'\n  }\n});\n\nclass Pictures extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      images: [],\n      formSuccess: false,\n      uploadedFiles: [],\n      uploading: false\n    };\n\n    this.handleImageChange = e => {\n      this.setState({\n        uploading: true\n      });\n      let formData = new FormData();\n      const config = {\n        header: {\n          'content-type': 'multipart/form-data'\n        }\n      };\n      formData.append(\"file\", e.target.files[0]);\n      Axios.post('/api/listings/uploadimage', formData, config).then(response => {\n        this.setState({\n          uploading: false,\n          uploadedFiles: [...this.state.uploadedFiles, response.data]\n        }, () => {\n          this.props.imagesHandler(this.state.uploadedFiles);\n        });\n      });\n    };\n\n    this.onRemove = id => {\n      this.setState({\n        uploading: true\n      });\n      Axios.get(`/api/listings/removeimage?public_id=${id}`).then(response => {\n        let images = this.state.uploadedFiles.filter(item => {\n          return item.public_id !== id;\n        });\n        this.setState({\n          uploadedFiles: images,\n          uploading: false\n        }, () => {\n          this.props.imagesHandler(images);\n        });\n      });\n    };\n\n    this.classes = useStyles();\n  }\n\n  render() {\n    const {\n      images\n    } = this.props.formState;\n    const {\n      classes\n    } = this.props;\n    console.log(this.state.uploadedFiles);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      spacing: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      style: {\n        margin: '0 auto'\n      },\n      item: true,\n      md: 8,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      className: classes.text,\n      color: \"textSecondary\",\n      variant: \"body1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 15\n      }\n    }, \"Upload pictures of your listing to impress potential renters. Be sure to star your favorite photo to featured as the primary image in the search results.\")), /*#__PURE__*/React.createElement(Grid, {\n      style: {\n        margin: '0 auto'\n      },\n      item: true,\n      md: 12,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.uploadbtn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      accept: \"image/*\",\n      className: classes.input,\n      id: \"contained-button-file\",\n      multiple: true,\n      type: \"file\",\n      onChange: this.handleImageChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"contained-button-file\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      component: \"span\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 23\n      }\n    }, \"Upload\"))), images.length !== 5 ? /*#__PURE__*/React.createElement(Typography, {\n      style: {\n        color: 'blue'\n      },\n      className: classes.text,\n      color: \"textSecondary\",\n      variant: \"body1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 43\n      }\n    }, \"You can upload up to 5 images\") : /*#__PURE__*/React.createElement(Typography, {\n      className: classes.text,\n      style: {\n        color: 'green'\n      },\n      color: \"textSecondary\",\n      variant: \"body1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 35\n      }\n    }, \"Cool stuff\", /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 31\n      }\n    }, \"\\uD83D\\uDC4C\"), \" Click Next to continue or upload a few more pictures\")), /*#__PURE__*/React.createElement(Grid, {\n      style: {\n        margin: '0 auto'\n      },\n      item: true,\n      md: 12,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 15\n      }\n    }, this.state.uploading ? /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 42\n      }\n    }, /*#__PURE__*/React.createElement(CircularProgress, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 77\n      }\n    })) : '', this.state.uploadedFiles.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.image,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 21\n      }\n    }, this.state.uploadedFiles.map((image, i) => /*#__PURE__*/React.createElement(\"div\", {\n      key: i,\n      className: classes.imageBody,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: classes.productImg,\n      src: image.url,\n      alt: \"product\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.iconarea,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 33\n      }\n    }, \"alignItems='center'\", /*#__PURE__*/React.createElement(DeleteIcon, {\n      onClick: () => this.onRemove(image.public_id),\n      style: {\n        fill: 'gray',\n        cursor: 'pointer'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 33\n      }\n    }))))) : '')));\n  }\n\n}\n\nPictures.propTypes = {\n  className: PropTypes.string\n};\nexport default withStyles(useStyles)(Pictures);","map":{"version":3,"sources":["/Users/humbertobuniotto/Desktop/Ironhack/Module3/frontend-reactjs-minimaless/src/views/NewListing/components/NewListingDetails/components/Pictures.js"],"names":["React","Component","withStyles","PropTypes","clsx","Grid","Typography","Button","CircularProgress","DeleteIcon","StarIcon","Axios","useStyles","theme","root","text","textAlign","padding","input","display","uploadbtn","image","justifyContent","alignItems","flexWrap","imageBody","margin","productImg","height","width","iconarea","marginLeft","Pictures","state","images","formSuccess","uploadedFiles","uploading","handleImageChange","e","setState","formData","FormData","config","header","append","target","files","post","then","response","data","props","imagesHandler","onRemove","id","get","filter","item","public_id","classes","render","formState","console","log","length","color","map","i","url","fill","cursor","propTypes","className","string"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport {\r\n  Grid,\r\n  Typography,\r\n  Button,\r\n  CircularProgress\r\n} from '@material-ui/core';\r\n\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport StarIcon from '@material-ui/icons/Star';\r\n\r\n\r\nimport Axios from 'axios'\r\n\r\nimport '../../../../../assets/scss/slider.scss';\r\n\r\nconst useStyles = theme => ({\r\n    root: {},\r\n    text: {\r\n        textAlign: 'center',\r\n        padding: 20,\r\n    },\r\n    input: {\r\n        display: 'none',\r\n    },\r\n    uploadbtn: {\r\n        textAlign: 'center'\r\n    },\r\n    image: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        flexWrap: 'wrap',\r\n    },\r\n    imageBody: {\r\n        margin: 7\r\n    },\r\n    productImg: {\r\n        height: 120,\r\n        width: 150,\r\n    },\r\n    iconarea: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        width: '60%',\r\n        marginLeft: '20%'\r\n    }\r\n});\r\n\r\nclass Pictures extends Component {\r\n\r\n    state = {\r\n        images: [],\r\n        formSuccess: false,\r\n\r\n        uploadedFiles: [],\r\n        uploading: false\r\n    }\r\n\r\n    handleImageChange = (e) => {\r\n        this.setState({uploading:true});\r\n        let formData = new FormData();\r\n        const config = {\r\n            header: {'content-type':'multipart/form-data'}\r\n        }\r\n        formData.append(\"file\",e.target.files[0]);\r\n\r\n        Axios.post('/api/listings/uploadimage',formData,config)\r\n        .then(response => {\r\n \r\n             this.setState({\r\n                 uploading:false,\r\n                 uploadedFiles:[\r\n                     ...this.state.uploadedFiles,\r\n                     response.data\r\n                 ]\r\n             },()=>{\r\n                 this.props.imagesHandler(this.state.uploadedFiles)\r\n             })\r\n        });\r\n     }\r\n\r\n     onRemove = (id) => {\r\n        this.setState({uploading:true});\r\n        Axios.get(`/api/listings/removeimage?public_id=${id}`).then(response=>{\r\n            let images = this.state.uploadedFiles.filter(item=>{\r\n                return item.public_id !== id;\r\n            });\r\n\r\n            this.setState({\r\n                uploadedFiles: images,\r\n                uploading:false\r\n            },()=>{\r\n                this.props.imagesHandler(images)\r\n            })\r\n        })\r\n    }\r\n    \r\n\r\n    classes = useStyles();\r\n\r\n    render() {\r\n        const { images } = this.props.formState;\r\n        const { classes} = this.props\r\n        console.log(this.state.uploadedFiles)\r\n        return (\r\n            <div>\r\n            <Grid\r\n              container\r\n              spacing={3}\r\n            >\r\n              <Grid\r\n              style={{margin: '0 auto'}}\r\n              item\r\n              md={8}\r\n              xs={12}\r\n              >\r\n              <Typography\r\n                  className={classes.text}\r\n                  color=\"textSecondary\"\r\n                  variant=\"body1\"\r\n                  >\r\n                  Upload pictures of your listing to impress potential renters. Be sure to star your favorite photo to featured as the primary image in the search results.\r\n              </Typography>\r\n              </Grid>\r\n              <Grid\r\n              style={{margin: '0 auto'}}\r\n                item\r\n                md={12}\r\n                xs={12}\r\n              >\r\n                  <div className={classes.uploadbtn}>\r\n                  <input\r\n                      accept=\"image/*\"\r\n                      className={classes.input}\r\n                      id=\"contained-button-file\"\r\n                      multiple\r\n                      type=\"file\"\r\n                      onChange={this.handleImageChange}\r\n                  />\r\n                  <label htmlFor=\"contained-button-file\">\r\n                      <Button variant=\"contained\" color=\"primary\" component=\"span\">\r\n                      Upload\r\n                      </Button>\r\n                  </label>\r\n                  </div>\r\n                  {images.length !== 5 ? (<Typography\r\n                    style={{color: 'blue'}}\r\n                    className={classes.text}\r\n                    color=\"textSecondary\"\r\n                    variant=\"body1\"\r\n                    >\r\n                    You can upload up to 5 images\r\n                </Typography>) : (<Typography\r\n                    className={classes.text}\r\n                    style={{color: 'green'}}\r\n                    color=\"textSecondary\"\r\n                    variant=\"body1\"\r\n                    >\r\n                    Cool stuff<span>👌</span> Click Next to continue or upload a few more pictures\r\n                </Typography>)}\r\n                \r\n              </Grid>\r\n              <Grid\r\n                style={{margin: '0 auto'}}\r\n                item\r\n                md={12}\r\n                xs={12}\r\n              >\r\n                  \r\n                {this.state.uploading ?  <div style={{textAlign: 'center'}}><CircularProgress /></div> : '' }               \r\n\r\n                {this.state.uploadedFiles.length > 0 ? (\r\n                    <div className={classes.image}>\r\n                        {this.state.uploadedFiles.map((image, i )=> (\r\n                            <div key={i} className={classes.imageBody}>\r\n                                <img className={classes.productImg} src={image.url} alt=\"product\" />\r\n                                <div className={classes.iconarea}>\r\n                                    alignItems='center'\r\n                                <DeleteIcon onClick={()=> this.onRemove(image.public_id)} style={{ fill: 'gray', cursor: 'pointer' }} />\r\n                                {/* <StarIcon style={{ fill: 'orange' }} />  */}\r\n                                {/* NEED TO CREATE A METHOD TO STAR AS FAVORITE IF ORANGE */}\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                  ) : ''\r\n                }\r\n              </Grid>\r\n            </Grid>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nPictures.propTypes = {\r\n    className: PropTypes.string\r\n};\r\n\r\n\r\nexport default withStyles(useStyles)(Pictures)\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}